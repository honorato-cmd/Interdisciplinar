@using Pato.Models
@{
    Layout = "/Views/Layout.cshtml";
    ViewBag.Title = "Produtos";
}
<nav class="navbar navbar-expand-lg">
</nav>
<ul class="nav justify-content-center">
<ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" href="/Produto" aria-current="page">Inicial</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/Produto/Create">Cadastrar</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">Filtrar</a>
        </li>
</ul>
</ul>
<nav class="navbar navbar-expand-lg">
</nav>
<ul class="nav justify-content-center">
    <div class="card border-secondary mb-3">
        <div class="card-body text-secondary">
            <table class="table table-striped">
            <tr>
                <th>Produto</th>
                <th>Valor</th>
                <th>Estoque</th>
                <th>Fornecedores</th>
                <th>Ações</th>
                
            </tr>
            <tbody id="myTable">
            @foreach(Produto p in Model)
            {
                <tr>
                    <td>@p.Nome</td>
                    <td>@p.Valor.ToString("c")</td>
                    <td>@p.Estoque</td>
                    <td>@p.Fornecedor</td>
                    <td>
                        <a href="/Produto/Detalhe/@p.IdProduto">Detalhes |</a>
                        <a href="/Produto/Delete/@p.IdProduto">Apagar |</a>
                        <a href="/Produto/Update/@p.IdProduto">Editar</a>
                     </td>
                </tr>
            }
            </tbody>
      </table>
        </div>
    </div>
</ul>

</div>
<div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Todos os Fornecedores</h5>
    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
        @foreach(var fornecedor in ViewBag.Fornecedores)
        {
           <p><a href="/Produto/Filter/@fornecedor.IdFornecedor" class="link-dark">@fornecedor.nomeFantasia</a></p>
        }
        <hr>
        <p><a href="/Produto" class="link-dark">Todos os Fornecedores</a></p>
  </div>
</div>